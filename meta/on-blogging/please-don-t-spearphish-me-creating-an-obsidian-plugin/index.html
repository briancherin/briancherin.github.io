<!doctype html>
<html lang="en">
<head>
<title>Please Don&#39;t Spearphish Me (Creating an Obsidian Plugin)</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script async type="module">import mermaid from"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs"</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-sv0slik/5O0JIPdLBCR2A3XDg/1U3WuDEheZfI/DI5n8Yqc3h5kjrnr46FGBNiUAJF7rE4LHKwQ/SoSLRKAxEA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="https://cdn.jsdelivr.net/npm/lucide@0.115.0/dist/umd/lucide.min.js"></script>
<script>window.addEventListener("load",(()=>{document.querySelectorAll(".callout").forEach((e=>{const t=getComputedStyle(e).getPropertyValue("--callout-icon"),l=t&&t.trim().replace(/^lucide-/,"");if(l){const t=e.querySelector(".callout-title");if(t){const e=document.createElement("div"),c=document.createElement("i");e.appendChild(c),c.setAttribute("icon-name",l),e.setAttribute("class","callout-icon"),t.insertBefore(e,t.firstChild)}}})),lucide.createIcons(),Array.from(document.querySelectorAll(".callout.is-collapsible")).forEach((e=>{e.querySelector(".callout-title").addEventListener("click",(t=>{e.classList.contains("is-collapsed")?e.classList.remove("is-collapsed"):e.classList.add("is-collapsed")}))}))}))</script>
<script async src="https://fastly.jsdelivr.net/npm/force-graph@1.43.0/dist/force-graph.min.js"></script>
<script async src="https://fastly.jsdelivr.net/npm/@alpinejs/persist@3.11.1/dist/cdn.min.js"></script>
<script src="https://fastly.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js" async></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer" async>
<script src="https://fastly.jsdelivr.net/npm/whatwg-fetch@3.6.2/dist/fetch.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer" async></script>
<link href="/styles/digital-garden-base.css" rel="stylesheet">
<link href="/styles/obsidian-base.css" rel="stylesheet">
<link href="/styles/_theme.d92311c2.css" rel="stylesheet">
<link href="/styles/custom-style.css" rel="stylesheet">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/manifest.webmanifest">
<style></style>
</head>
<body class="theme-dark markdown-preview-view markdown-rendered markdown-preview-section">
<nav class="navbar">
<div class="navbar-inner">
<a href="/" style="text-decoration:none">
<h1 style="margin:15px!important">Digital Garden</h1>
</a>
</div>
</nav>
<main class="content cm-s-obsidian">
<header>
<div class="header-meta">
</div>
</header>
<p><a class="tag" onclick="toggleTagSearch(this)" data-content="#digitalgarden">#digitalgarden</a> <a class="tag" onclick="toggleTagSearch(this)" data-content="#obsidian">#obsidian</a> <a class="tag" onclick="toggleTagSearch(this)" data-content="#cybersecurity">#cybersecurity</a> <a class="tag" onclick="toggleTagSearch(this)" data-content="#privacy">#privacy</a> <a class="tag" onclick="toggleTagSearch(this)" data-content="#project">#project</a> <a class="tag" onclick="toggleTagSearch(this)" data-content="#coding">#coding</a></p>
<p>Anytime I make a new public appearance (like making a new social media account, or this blog) I ask myself: am I revealing too much about myself to the Internet? I have some background in cybersecurity (meaning: a handful of classes at university), so I have some mental framework that lets me contemplate the consequences of having information about myself online.</p>
<p>There's a little voice in my head saying not to publish an article with this title (&quot;please don't spearphish me&quot;) because it might act as reverse psychology and give someone the idea to do it just because I mentioned it. Please don't be that person.</p>
<p>Anyway, my point here is that I'm building some level of a safeguard for myself. A tool that might help me catch myself before revealing too much.</p>
<p>Is this a perfect solution? No.</p>
<p>Am I overthinking this? Maybe.</p>
<p>But just like my footnote in my <a class="internal-link" target="" data-note-icon="" href="/media-i-have-consumed/podcasts/1-second-everyday-indie-hackers-podcast/">1 Second Everyday - Indie Hackers Podcast</a> post (&quot;It's scary sometimes how easy it might be to ruin your own life&quot;), I feel that exposing some little piece of information about yourself in public could cause some mess for you. At best? Someone being creepy and sending you weird messages. At worst? Someone identifying a routine that you have and stalking you in real life. Or just hacking you via a spearphishing email that contains a link or download you mindlessly click.</p>
<p>So what's my little solution for this? An Obsidian plugin that will audit the current note I've written and tell me if I'm revealing too much information in the post. (Obsidian is the text editor I use to write these blog posts, and I use the <a href="https://github.com/oleeskild/Obsidian-Digital-Garden" target="_blank" class="external-link">Obsidian Digital Garden plugin</a> for help building+publishing to this site.)</p>
<h2 id="how-it-works" tabindex="-1">How it works</h2>
<p>This is the workflow:</p>
<ol>
<li>Install the plugin (see instructions on the Github repo, linked below) and set your OpenAI API key in the plugin settings. You can also modify the system prompt that tells the AI how to interpret your note and what the output should look like.</li>
<li>You write a note in Obsidian.</li>
<li>Open the command palette (ctrl/cmd + P) and run &quot;Privacy Audit&quot;.</li>
<li>The request will be processed by the OpenAI API and the result will be opened in a side panel.</li>
</ol>
<h2 id="more-details" tabindex="-1">More details</h2>
<p>I used ChatGPT to help me code this up. It didn't take long to set it up locally and test it out in Obsidian.</p>
<p>The plugin uses the OpenAI API to ask GPT to review the note and make any suggestions.</p>
<p>I've published the code to my Github <a href="https://github.com/briancherin/obsidian-ai-privacy-audit" target="_blank" class="external-link">here</a> and I've made a <a href="https://github.com/obsidianmd/obsidian-releases/pull/8887" target="_blank" class="external-link">Pull Request</a> on the Obsidian repo to get this added to the community plugin list so that anyone can access it. A fun little open-source contribution that I hope someone might find helpful! I'm pretty new to the Obsidian and Digital Gardening scene, so I hope the universe will forgive me if something like this already exists (I swear, I don't mean to flood the plugin list with slop).</p>
<h2 id="examples" tabindex="-1">Examples</h2>
<p>The command:<br>
<picture src="/img/user/Meta/On%20Blogging/Assets/Images/dontspearpishme-command-palette.png" alt="dontspearpishme-command-palette.png"><source media="(max-width:480px)" srcset="/img/optimized/JZ-jw-Mue1-500.webp" type="image/webp">
<source media="(max-width:480px)" srcset="/img/optimized/JZ-jw-Mue1-500.jpeg">
<source media="(max-width:1920px)" srcset="/img/optimized/JZ-jw-Mue1-700.webp" type="image/webp"><source media="(max-width:1920px)" srcset="/img/optimized/JZ-jw-Mue1-700.jpeg"><img class="" src="/img/user/Meta/On%20Blogging/Assets/Images/dontspearpishme-command-palette.png" alt="dontspearpishme-command-palette.png" width=""></picture></p>
<p>The plugin catches my reveal of a routine:<br>
<picture src="/img/user/Meta/On%20Blogging/Assets/Images/dontspearphishme-example1.png" alt="dontspearphishme-example1.png"><source media="(max-width:480px)" srcset="/img/optimized/KRw93zILRH-500.webp" type="image/webp">
<source media="(max-width:480px)" srcset="/img/optimized/KRw93zILRH-500.jpeg">
<source media="(max-width:1920px)" srcset="/img/optimized/KRw93zILRH-700.webp" type="image/webp"><source media="(max-width:1920px)" srcset="/img/optimized/KRw93zILRH-700.jpeg"><img class="" src="/img/user/Meta/On%20Blogging/Assets/Images/dontspearphishme-example1.png" alt="dontspearphishme-example1.png" width=""></picture></p>
<p>The plugin catches my reveal of corporate information:<br>
<picture src="/img/user/Meta/On%20Blogging/Assets/Images/dontspearphishme-example2.png" alt="dontspearphishme-example2.png"><source media="(max-width:480px)" srcset="/img/optimized/_daMXhJ74n-500.webp" type="image/webp">
<source media="(max-width:480px)" srcset="/img/optimized/_daMXhJ74n-500.jpeg">
<source media="(max-width:1920px)" srcset="/img/optimized/_daMXhJ74n-700.webp" type="image/webp"><source media="(max-width:1920px)" srcset="/img/optimized/_daMXhJ74n-700.jpeg"><img class="" src="/img/user/Meta/On%20Blogging/Assets/Images/dontspearphishme-example2.png" alt="dontspearphishme-example2.png" width=""></picture></p>
<p>No issues with this one! It gives some extraneous suggestions about my clearly engaging content:<br>
<picture src="/img/user/Meta/On%20Blogging/Assets/Images/dontspearphishme-example3.png" alt="dontspearphishme-example3.png"><source media="(max-width:480px)" srcset="/img/optimized/Y-RvulGtiF-500.webp" type="image/webp">
<source media="(max-width:480px)" srcset="/img/optimized/Y-RvulGtiF-500.jpeg">
<source media="(max-width:1920px)" srcset="/img/optimized/Y-RvulGtiF-700.webp" type="image/webp"><source media="(max-width:1920px)" srcset="/img/optimized/Y-RvulGtiF-700.jpeg"><img class="" src="/img/user/Meta/On%20Blogging/Assets/Images/dontspearphishme-example3.png" alt="dontspearphishme-example3.png" width=""></picture></p>
<h2 id="areas-for-improvement" tabindex="-1">Areas for improvement</h2>
<ul>
<li>Add a command to run an audit for every file in the vault individually and get a summary of suggested fixes for each</li>
<li>Add a command to do a comprehensive audit across the whole vault, in case little bits of information in each file add up to a bigger picture (violating your privacy) which wouldn't be revealed within just one file. (This may be complicated since all the files won't fit in one GPT context window. There'd have to be some processing.)</li>
<li>Add a similar audit to the Github pipeline that actually gets triggered when I publish a note, so I don't have to remember to manually run the audit within Obsidian. If there is a critical warning, maybe fail the job, or maybe just alert me somehow.</li>
</ul>
<h2 id="concluding-words" tabindex="-1">Concluding words</h2>
<p>I have a feeling I might think of other AI-related Obsidian plugins in the future.</p>
</main>
<script>window.location.hash&&document.getElementById(window.location.hash.slice(1)).classList.add("referred"),window.addEventListener("hashchange",(e=>{const t=e.oldURL.split("#");t[1]&&document.getElementById(t[1]).classList.remove("referred");const n=e.newURL.split("#");n[1]&&document.getElementById(n[1]).classList.add("referred")}),!1);const url_parts=window.location.href.split("#"),url=url_parts[0],referrence=url_parts[1];document.querySelectorAll(".cm-s-obsidian > *[id]").forEach((function(e){e.ondblclick=function(e){const t=url+"#"+e.target.id;navigator.clipboard.writeText(t)}}))</script>
<script src="https://fastly.jsdelivr.net/npm/luxon@3.2.1/build/global/luxon.min.js"></script>
<script defer="defer">TIMESTAMP_FORMAT="MMM dd, yyyy h:mm a",document.querySelectorAll(".human-date").forEach((function(e){date=e.getAttribute("data-date")||e.innerText,parsed_date=luxon.DateTime.fromISO(date),null!=parsed_date.invalid&&(parsed_date=luxon.DateTime.fromSQL(date)),null!=parsed_date.invalid&&(parsed_date=luxon.DateTime.fromHTML(date)),e.innerHTML=parsed_date.toFormat(TIMESTAMP_FORMAT)}))</script>
<hr style="margin-top:3rem;margin-bottom:1rem;opacity:.5;border-top:1px solid #ccc">
<p style="text-align:center;font-size:.9rem;color:#777">
<a href="https://forms.gle/B5rkQCYMBTHrR6fDA" target="_blank" rel="noopener noreferrer" style="text-decoration:underline">
Send me a comment!
</a>
</p>
<script>lucide.createIcons({attrs:{class:["svg-icon"]}})</script>
</body>
</html>
